var o=(s,t,e)=>new Promise((a,c)=>{var l=r=>{try{i(e.next(r))}catch(n){c(n)}},m=r=>{try{i(e.throw(r))}catch(n){c(n)}},i=r=>r.done?a(r.value):Promise.resolve(r.value).then(l,m);i((e=e.apply(s,t)).next())});import{renderListWithTemplate as d}from"./utils.js";export default class h{constructor(t,e,a){this.category=t,this.dataSource=e,this.listElement=a}init(){return o(this,null,function*(){const t=yield this.dataSource.getData();this.renderList(t)})}prepareTemplate(t,e){return t.querySelector("a").href+=e.Id,console.log(e.Image),t.querySelector("img").src=e.Image,t.querySelector("img").alt+=e.Name,t.querySelector(".card__brand").textContent=e.Brand.Name,t.querySelector(".card__name").textContent=e.NameWithoutBrand,t.querySelector(".product-card__price").textContent+=e.FinalPrice,t}renderList(t){this.listElement.innerHTML="";const e=document.getElementById("product-card-template");d(e,this.listElement,t,this.prepareTemplate)}}
